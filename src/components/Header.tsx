import { useEffect, useState } from 'react'
import './Header.css'

interface HeaderProps {
  scrollY: number
}

const TwinLogo = () => (
  <svg width="89" height="23" viewBox="0 0 89 23" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M11.8779 11.1218L11.8779 0.999755L14.4629 0.999756C14.9005 4.95805 18.0418 8.09906 22 8.53687L22 11.1218L11.8779 11.1218Z" fill="currentColor"/>
    <path d="M10.1221 12.8777L10.1221 22.9998L7.53809 22.9998C7.10038 19.0412 3.9587 15.9 8.98791e-08 15.4626L1.20704e-07 12.8777L10.1221 12.8777Z" fill="currentColor"/>
    <path d="M10.1221 11.1221H0L0 8.53711C3.95873 8.09974 7.10043 4.95864 7.53809 1L10.1221 1V11.1221Z" fill="currentColor"/>
    <path d="M11.8779 12.8779L22 12.8779L22 15.4629C18.0418 15.9007 14.9006 19.0417 14.4629 23L11.8779 23L11.8779 12.8779Z" fill="currentColor"/>
    <path d="M86.5523 11.9466V18.6962C86.5523 20.3757 86.869 20.756 88.4842 20.9144V21.9601H81.4532V20.9144C82.9734 20.756 83.2585 20.3757 83.2585 18.6962V12.6437C83.2585 10.4889 82.3717 9.4749 80.5981 9.4749C79.4263 9.4749 78.3811 9.88685 77.431 10.8692V18.6962C77.431 20.3757 77.7477 20.756 79.4896 20.9144V21.9601H72.0469V20.9144C73.7571 20.756 74.1372 20.3757 74.1372 18.6962V11.1861C74.1372 9.41153 73.7571 8.96789 72.0469 8.96789V8.01724L76.3858 6.7497H77.431V9.60166C78.4128 7.70035 79.9963 6.55957 82.0866 6.55957C84.9687 6.55957 86.5523 8.36581 86.5523 11.9466Z" fill="currentColor"/>
    <path d="M67.3692 4.68988C66.0073 4.68988 65.0255 3.73923 65.0255 2.34494C65.0255 0.950651 66.0073 0 67.3692 0C68.731 0 69.7128 0.950651 69.7128 2.34494C69.7128 3.73923 68.731 4.68988 67.3692 4.68988ZM71.2331 21.9601H63.6953V20.9143C65.4689 20.7559 65.849 20.3756 65.849 18.6961V11.186C65.849 9.41145 65.4372 8.96782 63.6953 8.96782V8.01716L68.0976 6.74963H69.1428V18.6961C69.1428 20.3756 69.4595 20.7559 71.2331 20.9143V21.9601Z" fill="currentColor"/>
    <path d="M57.7095 7.98566V6.93994H63.1253V7.98566C62.2702 8.04904 61.7634 8.52436 61.0033 10.489L56.696 22.0236H54.5424L51.502 13.8797L48.2398 22.0236H46.0545L41.9056 10.8693C41.0505 8.55605 40.7654 8.08072 39.752 7.98566V6.93994H46.5929V7.98566C45.6111 8.04904 45.1044 8.46098 45.1044 9.25319C45.1044 9.5067 45.1677 9.82359 45.2944 10.2672L47.9865 18.3795L50.6785 11.6615L50.1084 10.1722C49.57 8.71449 49.0949 8.04904 48.2082 7.98566V6.93994H55.0491V7.98566C53.9723 8.01735 53.5289 8.39761 53.5289 9.18982C53.5289 9.63346 53.6873 10.2989 53.9723 11.0911L56.3793 18.3478L59.2614 10.5524C59.4514 9.98203 59.5464 9.53839 59.5464 9.15813C59.5464 8.33423 58.9447 8.01735 57.7095 7.98566Z" fill="currentColor"/>
    <path d="M38.6098 18.3792L39.37 19.0763C38.1664 21.1677 36.9629 22.2768 34.8726 22.2768C32.3706 22.2768 30.692 20.6607 30.692 17.682V9.75992H28V8.20719C30.3753 7.89031 31.8322 6.49602 32.3073 4.27783H33.9859V6.93966H38.4198V9.75992H33.9859V16.7947C33.9859 18.601 34.7776 19.4566 36.1395 19.4566C37.1213 19.4566 37.9131 19.0446 38.6098 18.3792Z" fill="currentColor"/>
  </svg>
)

export default function Header({ scrollY }: HeaderProps) {
  const [visible, setVisible] = useState(false)
  
  useEffect(() => {
    const timer = setTimeout(() => setVisible(true), 500)
    return () => clearTimeout(timer)
  }, [])

  const isScrolled = scrollY > 10

  return (
    <header className={`header ${isScrolled ? 'header--scrolled' : ''} ${visible ? 'header--visible' : ''}`}>
      <div className="header__banner">
        <a href="#">
          <span className="header__banner-desktop">Announcing our public launch and $10M seed round led by LocalGlobe →</span>
          <span className="header__banner-mobile">$10M seed round led by LocalGlobe →</span>
        </a>
      </div>
      <div className="header__inner">
        <a href="/" className="header__logo">
          <TwinLogo />
        </a>
        <nav className="header__nav">
          <a href="/discover" className="btn btn-secondary">Discover</a>
          <a href="#" className="btn btn-primary">Try now</a>
        </nav>
      </div>
    </header>
  )
}
